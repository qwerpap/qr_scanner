/// Репозиторий для работы с рекламой.
///
/// Инкапсулирует логику работы с AdMob, скрывая детали реализации
/// от остальных частей приложения.
abstract class AdsRepository {
  /// Инициализирует AdMob SDK.
  Future<void> init();

  /// Проверяет, можно ли показывать рекламу.
  ///
  /// Возвращает `true`, если:
  /// - Пользователь не имеет активной подписки
  /// - Реклама готова к показу
  Future<bool> canShowAds();

  /// Загружает баннерную рекламу.
  ///
  /// Возвращает `true`, если реклама успешно загружена.
  Future<bool> loadBannerAd();

  /// Загружает межстраничную рекламу.
  ///
  /// Возвращает `true`, если реклама успешно загружена.
  Future<bool> loadInterstitialAd();

  /// Показывает межстраничную рекламу.
  ///
  /// Бросает исключение в случае ошибки.
  Future<void> showInterstitialAd();

  /// Загружает вознаграждаемую рекламу.
  ///
  /// Возвращает `true`, если реклама успешно загружена.
  Future<bool> loadRewardedAd();

  /// Показывает вознаграждаемую рекламу.
  ///
  /// [onRewardEarned] - callback, вызываемый при получении награды.
  /// Бросает исключение в случае ошибки.
  Future<void> showRewardedAd({
    required Function(int amount, String type) onRewardEarned,
  });

  /// Загружает App Open рекламу.
  ///
  /// Возвращает `true`, если реклама успешно загружена.
  Future<bool> loadAppOpenAd();

  /// Показывает App Open рекламу.
  ///
  /// Бросает исключение в случае ошибки.
  Future<void> showAppOpenAd();

  /// Проверяет, загружена ли межстраничная реклама.
  bool isInterstitialAdLoaded();

  /// Проверяет, загружена ли вознаграждаемая реклама.
  bool isRewardedAdLoaded();

  /// Проверяет, загружена ли App Open реклама.
  bool isAppOpenAdLoaded();
}
